<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª</title>
<style>
body {
background-color: #000;
color: white;
font-family: 'Tahoma', sans-serif;
text-align: center;
margin: 0;
padding: 20px;
transition: background-color 0.5s, color 0.5s;
}

.dark-mode {
background-color: #ffffff;
color: #000000;
}

h1 {
font-size: 48px;
margin-bottom: 10px;
background: linear-gradient(to right, gold, white);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
}

.hint-center {
font-size: 16px;
color: #ccc;
margin-top: -5px;
margin-bottom: 20px;
}

#input-container {
margin-top: 20px;
}

.input-row {
display: flex;
justify-content: center;
align-items: center;
gap: 10px;
margin-top: 10px;
}

input {
padding: 10px;
font-size: 20px;
width: 300px;
text-align: center;
}

button {
padding: 10px 20px;
font-size: 18px;
cursor: pointer;
}

.hearts {
font-size: 30px;
margin: 10px 0;
}

#message {
margin-top: 20px;
font-size: 26px;
font-weight: bold;
}

.shake {
animation: shake 0.5s;
}

@keyframes shake {
0% { transform: translateX(0); }
25% { transform: translateX(-5px); }
50% { transform: translateX(5px); }
75% { transform: translateX(-5px); }
100% { transform: translateX(0); }
}

#timer {
font-size: 20px;
margin-top: 10px;
}

#hint {
font-size: 18px;
color: red;
margin-top: 5px;
}

#theme-toggle {
position: fixed;
bottom: 10px;
left: 10px;
background-color: #222;
color: white;
border: none;
padding: 8px 16px;
}

#stats {
margin-top: 30px;
font-size: 18px;
display: none;
}
</style>
</head>
<body>
<h1>WG</h1>
<p class="hint-center">Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¹Ø¨Ø§Ø±Ø© Ø¹Ù† ÙƒÙ„Ù…Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·</p>

<div id="input-container">
<div style="text-align: right; width: 300px; margin: 0 auto;">
<p style="font-size: 20px;">Ø§Ø¯Ø®Ù„ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©:</p>
</div>

<div class="input-row">
<input type="text" id="userInput" />
<button onclick="checkAnswer()">ØªØ­Ù‚Ù‚</button>
</div>

<div class="hearts" id="hearts">â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸</div>
<div id="timer">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: 10:00</div>
<div id="hint"></div>
</div>

<div id="message"></div>
<div id="stats"></div>

<button id="theme-toggle" onclick="toggleTheme()">ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹</button>

<script>
const levels = ["ØºØ§Ø²ÙŠ", "Ø±Ø¬Ø§Ù„ÙŠ", "Ù…Ù„Ø§ÙƒÙŠ"];
const hints = ["Øº", "Ø±", "Ù…"];
let currentLevel = 0;
let attempts = 10;
let totalAttemptsUsed = 0;
let correctAnswers = 0;
let timeLeft = 600;
let timerInterval;
let timeUsed = 0;
let wrongPerLevel = [0, 0, 0];
let hintShown = [false, false, false];

const winSound = new Audio("https://www.soundjay.com/buttons/sounds/button-3.mp3");
const loseSound = new Audio("https://www.soundjay.com/misc/sounds/fail-buzzer-01.mp3");
const nextSound = new Audio("https://www.soundjay.com/buttons/sounds/button-30.mp3");
const wrongSound = new Audio("https://www.soundjay.com/button/sounds/button-10.mp3");
const heartBreakSound = new Audio("https://cdn.pixabay.com/download/audio/2023/03/03/audio_28cc2e77a3.mp3?filename=heart-break-110742.mp3");

const input = document.getElementById("userInput");
const message = document.getElementById("message");
const hearts = document.getElementById("hearts");
const timer = document.getElementById("timer");
const hint = document.getElementById("hint");
const stats = document.getElementById("stats");

function updateHearts() {
let heartDisplay = "";
for (let i = 0; i < 10; i++) {
heartDisplay += i < attempts ? "â¤ï¸" : "ğŸ’”";
}
hearts.innerHTML = heartDisplay;
}

function showHintIfNeeded() {
if (wrongPerLevel[currentLevel] >= 3 && !hintShown[currentLevel]) {
hint.textContent = `ØªÙ„Ù…ÙŠØ­: Ø§Ù„ÙƒÙ„Ù…Ø© ØªØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù "${hints[currentLevel]}"`;
hintShown[currentLevel] = true;
}
}

function startTimer() {
timerInterval = setInterval(() => {
timeLeft--;
timeUsed++;
const minutes = Math.floor(timeLeft / 60);
const seconds = timeLeft % 60;
timer.textContent = `Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${minutes}:${seconds.toString().padStart(2, '0')}`;

if (timeLeft <= 0) {
endGame(false, "Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª! Ø®Ø³Ø±Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!");
}
}, 1000);
}

function checkAnswer() {
const answer = input.value.trim();
if (answer === levels[currentLevel]) {
winSound.play();
correctAnswers++;
message.textContent = `Ø£Ø­Ø³Ù†Øª! Ø§Ø¬ØªØ²Øª Ø§Ù„Ù…Ø±Ø­Ù„Ø© ${currentLevel + 1}`;
currentLevel++;
hint.textContent = "";

if (currentLevel < levels.length) {
nextSound.play();
setTimeout(() => {
message.textContent = `Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø±Ø­Ù„Ø© ${currentLevel + 1}`;
input.value = "";
}, 1500);
} else {
endGame(true, "Ù…Ø¨Ø±ÙˆÙƒ! ÙØ²Øª Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø­Ù„!");
}
} else {
input.classList.add("shake");
setTimeout(() => input.classList.remove("shake"), 500);

wrongSound.play();
heartBreakSound.play();

attempts--;
wrongPerLevel[currentLevel]++;
totalAttemptsUsed++;
updateHearts();
showHintIfNeeded();

if (attempts <= 0) {
endGame(false, "Ø§Ù†Ù‡Ø²Ù…Øª ÙŠØ§ Ø®Ø³Ø±Ø§Ù†! ğŸ˜‚");
} else {
message.textContent = "Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©! Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";
}
}
}

function endGame(won, finalMessage) {
clearInterval(timerInterval);
input.disabled = true;
message.textContent = finalMessage;
document.body.style.backgroundColor = won ? "#0f0" : "#500";
if (!won) loseSound.play();

const totalMinutes = Math.floor(timeUsed / 60);
const totalSeconds = timeUsed % 60;
stats.style.display = "block";
stats.innerHTML = `
<hr>
<h3>Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©</h3>
<p>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©: ${totalAttemptsUsed}</p>
<p>Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©: ${correctAnswers} Ù…Ù† ${levels.length}</p>
<p>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}</p>
`;
}

function toggleTheme() {
document.body.classList.toggle("dark-mode");
}

updateHearts();
startTimer();
</script>
</body>
</html>